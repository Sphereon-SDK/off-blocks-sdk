{"swagger":"2.0","info":{"description":"OffBlock description of API.","version":"API TOS","title":"OffBlock API","termsOfService":"Terms of service","contact":{"name":"Technoperi","url":"www.technoperia.com","email":"myeaddress@company.com"},"license":{"name":"License of API","url":"API license URL"}},"host":"52.39.15.26:18080","basePath":"/offblocks","tags":[{"name":"auth-controller","description":"Auth Controller"},{"name":"file-controller","description":"File Controller"},{"name":"user-controller","description":"User Controller"}],"paths":{"/api/auth/signin":{"post":{"tags":["auth-controller"],"summary":"authenticateUser","operationId":"authenticateUserUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"loginRequest","description":"loginRequest","required":true,"schema":{"$ref":"#/definitions/LoginRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/auth/signup":{"post":{"tags":["auth-controller"],"summary":"registerUser","operationId":"registerUserUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"signUpRequest","description":"signUpRequest","required":true,"schema":{"$ref":"#/definitions/SignUpRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/file":{"get":{"tags":["file-controller"],"summary":"getFileDetails","operationId":"getFileDetailsUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"query","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/FileDetailsDTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/file/create":{"post":{"tags":["file-controller"],"summary":"createFile","operationId":"createFileUsingPOST","consumes":["multipart/form-data"],"produces":["*/*"],"parameters":[{"in":"formData","name":"data","description":"data","required":true,"schema":{"type":"string"}},{"name":"file","in":"formData","description":"file","required":true,"type":"file"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/FileDTO"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/file/download/{fileId}":{"get":{"tags":["file-controller"],"summary":"downloadOutputFile","operationId":"downloadOutputFileUsingGET","produces":["*/*"],"parameters":[{"name":"fileId","in":"path","description":"fileId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Resource"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/file/history":{"get":{"tags":["file-controller"],"summary":"getFileHistory","operationId":"getFileHistoryUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"query","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/FileDetailsDTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/file/signatory":{"post":{"tags":["file-controller"],"summary":"fileSignatoryProcess","operationId":"fileSignatoryProcessUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"fileSignatoryDTO","description":"fileSignatoryDTO","required":true,"schema":{"$ref":"#/definitions/FileSignatoryDTO"}}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/FileDetailsDTO"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/file/undersigned":{"get":{"tags":["file-controller"],"summary":"getUndersignedFiles","operationId":"getUndersignedFilesUsingGET","produces":["*/*"],"parameters":[{"name":"isProcessed","in":"query","description":"isProcessed","required":true,"type":"boolean"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/FileDetailsDTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user":{"delete":{"tags":["user-controller"],"summary":"deleteUser","operationId":"deleteUserUsingDELETE","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"deprecated":false}},"/api/user/activate":{"post":{"tags":["user-controller"],"summary":"userActivation","operationId":"userActivationUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userActivationRequest","description":"userActivationRequest","required":true,"schema":{"$ref":"#/definitions/UserActivationRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ApiResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user/chain":{"get":{"tags":["user-controller"],"summary":"getUserIdentityChainId","operationId":"getUserIdentityChainIdUsingGET","produces":["*/*"],"parameters":[{"name":"userId","in":"query","description":"userId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ApiResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user/checkEmailAvailability":{"get":{"tags":["user-controller"],"summary":"checkEmailAvailability","operationId":"checkEmailAvailabilityUsingGET","produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"email","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserIdentityAvailability"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user/checkUsernameAvailability":{"get":{"tags":["user-controller"],"summary":"checkUsernameAvailability","operationId":"checkUsernameAvailabilityUsingGET","produces":["*/*"],"parameters":[{"name":"username","in":"query","description":"username","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserIdentityAvailability"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user/edit":{"put":{"tags":["user-controller"],"summary":"editUser","operationId":"editUserUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"editUserRequest","description":"editUserRequest","required":true,"schema":{"$ref":"#/definitions/EditUserRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user/emailVerification":{"post":{"tags":["user-controller"],"summary":"emailVerification","operationId":"emailVerificationUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"emailVerificationRequest","description":"emailVerificationRequest","required":true,"schema":{"$ref":"#/definitions/EmailVerificationRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserIdentityAvailability"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user/me":{"get":{"tags":["user-controller"],"summary":"getCurrentUser","operationId":"getCurrentUserUsingGET","produces":["*/*"],"parameters":[{"name":"accountNonExpired","in":"query","required":false,"type":"boolean"},{"name":"accountNonLocked","in":"query","required":false,"type":"boolean"},{"name":"authorities[0].authority","in":"query","required":false,"type":"string"},{"name":"business","in":"query","required":false,"type":"boolean"},{"name":"credentialsNonExpired","in":"query","required":false,"type":"boolean"},{"name":"email","in":"query","required":false,"type":"string"},{"name":"enabled","in":"query","required":false,"type":"boolean"},{"name":"id","in":"query","required":false,"type":"string"},{"name":"joinedAt","in":"query","required":false,"type":"string","format":"date-time"},{"name":"lastName","in":"query","required":false,"type":"string"},{"name":"name","in":"query","required":false,"type":"string"},{"name":"password","in":"query","required":false,"type":"string"},{"name":"username","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserSummary"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user/publicKeyVerification":{"post":{"tags":["user-controller"],"summary":"publicKeyVerification","operationId":"publicKeyVerificationUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userActivationRequest","description":"userActivationRequest","required":true,"schema":{"$ref":"#/definitions/UserActivationRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserIdentityAvailability"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/user/signatory-list":{"get":{"tags":["user-controller"],"summary":"getSignatoryLists","operationId":"getSignatoryListsUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/SignatoryListsDTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false},"post":{"tags":["user-controller"],"summary":"createSignatoryLists","operationId":"createSignatoryListsUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"signatoryListsRequest","description":"signatoryListsRequest","required":true,"schema":{"$ref":"#/definitions/SignatoryListsRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SignatoryListsDTO"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/users":{"get":{"tags":["user-controller"],"summary":"getUsersByNameOrEmailOrStaffNumber","operationId":"getUsersByNameOrEmailOrStaffNumberUsingGET","produces":["*/*"],"parameters":[{"name":"search","in":"query","description":"search","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/UserProfile"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/users/{username}":{"get":{"tags":["user-controller"],"summary":"getUserProfile","operationId":"getUserProfileUsingGET","produces":["*/*"],"parameters":[{"name":"username","in":"path","description":"username","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserProfile"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}}},"definitions":{"ApiResponse":{"type":"object","properties":{"message":{"type":"string"},"success":{"type":"boolean"}},"title":"ApiResponse"},"EditUserRequest":{"type":"object","properties":{"email":{"type":"string"},"lastName":{"type":"string"},"name":{"type":"string"},"staffNumber":{"type":"string"}},"title":"EditUserRequest"},"EmailVerificationRequest":{"type":"object","properties":{"email":{"type":"string"},"pin":{"type":"string"}},"title":"EmailVerificationRequest"},"File":{"type":"object","properties":{"absolute":{"type":"boolean"},"absoluteFile":{"$ref":"#/definitions/File"},"absolutePath":{"type":"string"},"canonicalFile":{"$ref":"#/definitions/File"},"canonicalPath":{"type":"string"},"directory":{"type":"boolean"},"file":{"type":"boolean"},"freeSpace":{"type":"integer","format":"int64"},"hidden":{"type":"boolean"},"name":{"type":"string"},"parent":{"type":"string"},"parentFile":{"$ref":"#/definitions/File"},"path":{"type":"string"},"totalSpace":{"type":"integer","format":"int64"},"usableSpace":{"type":"integer","format":"int64"}},"title":"File"},"FileDTO":{"type":"object","properties":{"fileName":{"type":"string"},"fileSignatories":{"type":"array","items":{"$ref":"#/definitions/FileSignatoriesDTO"}},"fileTitle":{"type":"string"},"id":{"type":"string"},"isOrdered":{"type":"boolean"},"type":{"type":"string"}},"title":"FileDTO"},"FileDetailsDTO":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"createdBy":{"type":"string"},"email":{"type":"string"},"fileId":{"type":"string"},"fileName":{"type":"string"},"fileTitle":{"type":"string"},"fileType":{"type":"string"},"isOrdered":{"type":"boolean"},"isProcessed":{"type":"boolean"},"isSigned":{"type":"boolean"},"revisionDate":{"type":"string","format":"date-time"}},"title":"FileDetailsDTO"},"FileSignatoriesDTO":{"type":"object","properties":{"isProcessed":{"type":"boolean"},"isSigned":{"type":"boolean"},"revisionDate":{"type":"string","format":"date-time"},"signatoriesOrder":{"type":"integer","format":"int32"},"userProfile":{"$ref":"#/definitions/UserProfile"}},"title":"FileSignatoriesDTO"},"FileSignatoryDTO":{"type":"object","properties":{"fileId":{"type":"string"},"isSigned":{"type":"boolean"}},"title":"FileSignatoryDTO"},"InputStream":{"type":"object","title":"InputStream"},"LoginRequest":{"type":"object","properties":{"password":{"type":"string"},"usernameOrEmail":{"type":"string"}},"title":"LoginRequest"},"Resource":{"type":"object","properties":{"description":{"type":"string"},"file":{"$ref":"#/definitions/File"},"filename":{"type":"string"},"inputStream":{"$ref":"#/definitions/InputStream"},"open":{"type":"boolean"},"readable":{"type":"boolean"},"uri":{"$ref":"#/definitions/URI"},"url":{"$ref":"#/definitions/URL"}},"title":"Resource"},"SignUpRequest":{"type":"object","properties":{"business":{"type":"boolean"},"deviceId":{"type":"string"},"email":{"type":"string"},"lastName":{"type":"string"},"name":{"type":"string"},"password":{"type":"string"},"publicKey":{"type":"string"},"staffNumber":{"type":"string"},"username":{"type":"string"}},"title":"SignUpRequest"},"SignatoriesDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"signatoriesOrder":{"type":"integer","format":"int32"},"userProfile":{"$ref":"#/definitions/UserProfile"}},"title":"SignatoriesDTO"},"SignatoryListsDTO":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"signatories":{"type":"array","items":{"$ref":"#/definitions/SignatoriesDTO"}}},"title":"SignatoryListsDTO"},"SignatoryListsRequest":{"type":"object","properties":{"listName":{"type":"string"},"signatories":{"type":"object","additionalProperties":{"type":"string"}},"signatoryListId":{"type":"string"},"userId":{"type":"string"}},"title":"SignatoryListsRequest"},"URI":{"type":"object","properties":{"absolute":{"type":"boolean"},"authority":{"type":"string"},"fragment":{"type":"string"},"host":{"type":"string"},"opaque":{"type":"boolean"},"path":{"type":"string"},"port":{"type":"integer","format":"int32"},"query":{"type":"string"},"rawAuthority":{"type":"string"},"rawFragment":{"type":"string"},"rawPath":{"type":"string"},"rawQuery":{"type":"string"},"rawSchemeSpecificPart":{"type":"string"},"rawUserInfo":{"type":"string"},"scheme":{"type":"string"},"schemeSpecificPart":{"type":"string"},"userInfo":{"type":"string"}},"title":"URI"},"URL":{"type":"object","properties":{"authority":{"type":"string"},"content":{"type":"object"},"defaultPort":{"type":"integer","format":"int32"},"file":{"type":"string"},"host":{"type":"string"},"path":{"type":"string"},"port":{"type":"integer","format":"int32"},"protocol":{"type":"string"},"query":{"type":"string"},"ref":{"type":"string"},"userInfo":{"type":"string"}},"title":"URL"},"UserActivationRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"publicKey":{"type":"string"}},"title":"UserActivationRequest"},"UserIdentityAvailability":{"type":"object","properties":{"available":{"type":"boolean"}},"title":"UserIdentityAvailability"},"UserProfile":{"type":"object","properties":{"email":{"type":"string"},"id":{"type":"string"},"joinedAt":{"type":"string","format":"date-time"},"lastName":{"type":"string"},"name":{"type":"string"},"username":{"type":"string"}},"title":"UserProfile"},"UserSummary":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"username":{"type":"string"}},"title":"UserSummary"}}}